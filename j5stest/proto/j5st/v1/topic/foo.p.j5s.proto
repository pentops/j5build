// Code generated by j5convert. DO NOT EDIT.

syntax = "proto3";

package j5st.v1.topic;

import "buf/validate/validate.proto";
import "google/protobuf/empty.proto";
import "j5/ext/v1/annotations.proto";
import "j5/messaging/v1/annotations.proto";
import "j5/messaging/v1/upsert.proto";
import "j5/state/v1/metadata.proto";
import "j5st/v1/foo.j5s.proto";

service FooPublishTopic {
  option (j5.messaging.v1.service) = {
    topic_name: "foo_publish"
    event: {
      entity_name: "j5st.v1.Foo"
    }
  };

  rpc FooEvent(FooEventMessage) returns (google.protobuf.Empty) {}
}

service FooSummaryTopic {
  option (j5.messaging.v1.service) = {
    topic_name: "foo_summary"
    upsert: {
      entity_name: "j5st.v1.Foo"
    }
  };

  rpc FooSummary(FooSummaryMessage) returns (google.protobuf.Empty) {}
}

message FooEventMessage {
  option (j5.ext.v1.message).object = {};

  j5.state.v1.EventPublishMetadata metadata = 1 [
    (buf.validate.field).required = true,
    (j5.ext.v1.field).object = {}
  ];

  j5st.v1.FooKeys keys = 2 [
    (buf.validate.field).required = true,
    (j5.ext.v1.field).object = {}
  ];

  j5st.v1.FooEventType event = 3 [
    (buf.validate.field).required = true,
    (j5.ext.v1.field).oneof = {}
  ];

  j5st.v1.FooData data = 4 [
    (buf.validate.field).required = true,
    (j5.ext.v1.field).object = {}
  ];

  j5st.v1.FooStatus status = 5 [
    (buf.validate.field) = {
      required: true
      enum: {
        defined_only: true
      }
    },
    (j5.ext.v1.field).enum = {}
  ];
}

message FooSummaryMessage {
  option (j5.ext.v1.message).object = {};

  j5.messaging.v1.UpsertMetadata upsert = 1 [
    (buf.validate.field).required = true,
    (j5.ext.v1.field).object = {}
  ];

  string name = 2 [(j5.ext.v1.field).string = {}];
}
